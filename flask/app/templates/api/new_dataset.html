{% extends 'home-base.html' %} {% block content %}

<template>


    <v-container fill-height fluid>

      <v-row align="center">
        <v-col cols="12" md="6">
          <h1 style="color: #35B4CF;">Annotator:</h1>
        </v-col>
        <v-col cols="12" md="6">
          <v-alert v-if="annotatorValidated" type="success">
            Validation successful
          </v-alert>
        </v-col>
      </v-row>
    
      
      <v-row align="center">

        <v-col cols="12" md="8">

          <br>
          <v-text-field
            color="#35B4CF"
            :rules="nameRules"
            v-model="annotator.name"
            label="Name"
            outlined
          ></v-text-field>

          <v-select
            color="#35B4CF"
            :items="items"
            :rules="roleRules"
            v-model="annotator.role"
            label="Role"
            outlined
          ></v-select>

          <v-textarea
            color="#35B4CF"
            large
            outlined
            v-model="annotator.notes"
            :rules="notesRules"
            name="Notes"
            label="Notes"
            height="200"
          ></v-textarea>

        </v-col>

        <v-col cols="12" md="4">
          <template>
            <v-row justify="center">
              <v-date-picker color="#35B4CF" v-model="annotator.date"></v-date-picker>
            </v-row>
          </template>
        </v-col>
        
      </v-row>

      <v-row>
        <v-col cols="12" md="10">
          <v-row align="center">
            <v-alert v-if="vueAlertAnnotatorNotValidated" type="error">
              Not validated
            </v-alert>
          </v-row>
        </v-col>
      
        <v-col cols="12" md="2">
        
              <a style="text-decoration: none;" href="#Dataset">
                <v-btn tile color="#35B4CF" @click="validate()" class="mr-4 white--text"> Validate </v-btn>
                <!-- <v-btn
                  tile
                  @click="validate(); changeBackgroundColor = !changeBackgroundColor"
                  :style="{
                      backgroundColor : changeBackgroundColor ? '#35B4CF !important' : '',
                      color: changeBackgroundColor ? 'white !important' : '35B4CF'
                      }"
                  class="mr-4 grey--text"
              
                >
                  Validate 
                </v-btn> -->
              </a>
          
        </v-col>
      </v-row>

    </v-container>

    <v-container fill-height fluid v-if="annotatorValidated" id="Dataset">
 
      <v-row align="center" >
        <v-col cols="12" md="6">
          <h1 style="color: #35B4CF;">Dataset:</h1>
        </v-col>
        <v-col cols="12" md="6">
          <v-alert  type="success" v-if="datasetValidated">
          Validation successful
        </v-alert>
        </v-col>
      </v-row>
      <v-row align="center">

        <v-col cols="12" md="4">

          <v-text-field
            color="#35B4CF"
            v-model="dataset.dataset_id"
            label="Dataset ID"
            placeholder="Dataset ID"
            outlined
          ></v-text-field>

          <v-text-field
            color="#35B4CF"
            v-model="dataset.title"
            label="Title"
            placeholder="Title"
            outlined
          ></v-text-field>

          <v-text-field
            color="#35B4CF"
            v-model="dataset.authors"
            label="Authors"
            placeholder="Authors"
            outlined
          ></v-text-field>

          <v-text-field
            color="#35B4CF"
            v-model="dataset.platform"
            label="Platform"
            placeholder="Platform"
            outlined
          ></v-text-field>

          <v-text-field
            color="#35B4CF"
            v-model="dataset.pubmed"
            label="Pubmed"
            placeholder="Pubmed"
            outlined
          ></v-text-field>

          <v-select
            color="#35B4CF"
            :items="projects"
            :rules="roleRules"
            v-model="dataset.project"
            label="Project"
            outlined
          ></v-select>

          <br>

        </v-col>

        <v-col cols="12" md="8">
          <v-textarea
            color="#35B4CF"
            v-model="dataset.description"
            large
            outlined
            name="Description"
            label="Description"
            height="490"
          ></v-textarea>
        </v-col>
        
      </v-row>
   
      <v-row>
        <v-col cols="12" md="10">
          <template>
            <v-file-input 
              enctype="multipart/form-data"
              chips
              counter
              show-size
              color="#35B4CF" 
              v-model="selectedFile" 
              multiple label="Attach Samples" 
              type="file"
              id="file"
              @change="fileUpload"
            >
            </v-file-input>

            
          </template>
        </v-col>

        <v-col cols="12" md="2">
          <v-switch color="#35B4CF" v-model="private" flat :label="`Private:  ${private.toString()}`"></v-switch>
        </v-col>
      </v-row>

      <br>

      <v-row>
        <v-col cols="12" md="2"></v-col>
        <v-col cols="12" md="8">
          <v-btn 
            tile 
            block 
            color="#35B4CF"
            class="mr-4 white--text"
            @click="createGrid" 
            :disabled="gridSet"
            >
            Upload
          </v-btn>
        </v-col>
        <v-col cols="12" md="2"></v-col>
      </v-row>

      <br>
      <br>
      <br>
      <br>
      
      
      
      <v-row>
        <v-col cols="12" md="12">
          <v-alert  type="success" v-if="datasetValidated">
            Validation successful
          </v-alert>
          <v-alert  type="error" v-if="vueAlertDatasetNotValidated">
            Not validated
          </v-alert>
          <v-alert
            v-if="vueAlertDataFormatResponse"
            v-model="alert"
            border="left"
        
            color="deep-purple accent-4"
            dark
    
          >
          [[responseMessage]]
          </v-alert>
          <div id="myGrid" style="height: 600px; width: 100%;" class="ag-theme-balham"></div>
           <br>
            <v-btn-toggle>
              <v-btn v-if="datasetValidated && annotatorValidated" tile color="green" class="white--text" @click="addDataset">Add Dataset +</v-btn>
              <v-btn
                tile
                color="#35B4CF"
                class="white--text"
                @click="validateAll()"
              >
                Validate
              </v-btn>
              <v-btn
                tile
                color="#A81C84"
                class="white--text"
                @click="resetAll"
              >
                Reset All
              </v-btn>
            </v-btn-toggle>
        </v-col>
        
      </v-row>

      </v-row>

      

    </v-container>
  </template>

  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>

{% endblock %}